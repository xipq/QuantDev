我们一起来合作开发一个A股量化交易策略。

## 任务背景
我这里有一个黑盒预测模型，模型在每个交易日的14:00，会为第二天中证1000ETF的收益率进行预测。模型的预测是一个实数值，范围在-2000到2000之间。
但是也有可能会有更大的绝对值（3 sigma之外）。我们希望首先根据这个简单的信号，开发一个简单的交易策略，我们的第一步是进行回测。此后，在这个基础上，我们可以开发稍微复杂一点的策略，比如多因子策略。。
因此，我希望你的代码能够较好的面向对象，易于扩展。

你会拿到这样的两个数据，第一个csv文件是模型的预测值，类似这样：
20200102,1266.02
20200103,984.6
20200106,567.4
20200107,771.6
20200108,364.8
20200109,835.8
20200110,280.5
20200113,690.4
文件共有两列，第一列是日期，第二列是当天14:00对第二天中证1000ETF的预测值。

第二个文件是中证1000ETF的分钟级别数据，类似这样：
date,instrument,high,open,low,close,volume
2018-01-02 09:31:00,512100.SH,0.824,0.824,0.824,0.824,12100
2018-01-02 09:32:00,512100.SH,0.826,0.824,0.824,0.826,8200
2018-01-02 09:33:00,512100.SH,0.826,0.826,0.826,0.826,4400
2018-01-02 09:34:00,512100.SH,0.826,0.826,0.826,0.826,0
2018-01-02 09:35:00,512100.SH,0.829,0.829,0.829,0.829,62100
2018-01-02 09:36:00,512100.SH,0.829,0.829,0.829,0.829,31000

## 任务描述
我们的任务是对这个简单的交易策略进行回测，我希望你能编写比较好的python代码风格，例如包括回测类 策略类 指标计算类、评估类 可视化类等。

首先是策略类，我们首先考虑最简单的策略策略应该维护很多跟策略有关的变量，比如
- 买入时间：可以再当天或者第二天买入。例如：当天14:30买入，当天收盘买入，第二天开盘买入等等。
- 卖出时间：如果当天买入，可以第二天卖出，如第二天买入，则第三天卖出
- 买入条件：预测值大于某个阈值（例如200），买入。
以上是这个最简单的策略。我希望能用网格搜索的方法，找到最优的参数（回测类）。
具体地，买入时间和卖出时间定义为两个变量，能够支撑for循环（比如30分钟为间隔扫描），然后计算每一组参数的回测结果，最后找到最优的参数组合。


其次是回测类，回测类应该维护很多跟回测有关的变量，比如
- 交易手续费和滑点
- 起始资金
- 复利还是单利
- 策略应该被传入回测类
- 起始时间，结束时间
- 能够调用指标计算类，计算策略的各种指标

然后是指标计算类
- 计算策略的各种指标，比如夏普比率，最大回撤，波动率，PNL，胜率等等

然后是实验类
- 可以输入一个组，代表一组grid test，一组不同的开始和结束时间
- 能够分别实例化回测类，进行回测
- 能够调用可视化类，进行可视化，例如把不同的参数组合的回测结果可视化、不同dectile的回测结果可视化等等


## 简单进阶
以上是一个最简单的每日调仓的策略实现，我希望通过上边的回测来判断信号的有效性，以及怎么根据信号来合理交易。
我们可以稍微进一步
1）首先考虑滚仓策略，比如，如果第一天在信号大于阈值产生了买入，第二天信号又大于阈值，可以考虑继续持仓，而不是清仓再买入。
2）考虑多因子策略，比如，可以考虑加入其他因子，比如成交量，成交额，换手率等等，来判断信号的有效性。

这是我们的第一次交流，如果后续我提出新的需求，建议你仍然返回完整的代码、一个新的类等，而不是修改。